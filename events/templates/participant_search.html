{% extends "dashboard.html" %}
{% block formfor %}

<h2 class="text-2xl font-bold mb-6">Search Participant by Name</h2>

<form method="GET" class="flex gap-x-3 mb-6">
    <input type="text" name="name" placeholder="Enter name" required
           class="w-11/12 px-3 py-2 border border-gray-300 rounded-md text-sm" />
    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md">Search</button>
</form>

{% if query %}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-5">
        {% for participant in participants %}
        <div class="bg-white rounded-xl p-6 shadow-sm">
            <h2 class="text-xl font-semibold mb-2 text-gray-800 text-center">{{ participant.name }}</h2>
            <p class="text-sm text-gray-600 mb-4 text-center">Email: {{ participant.email }}</p>
            <a href="{% url 'update_participant' participant.id %}"
               class="block w-full text-center px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-md">
                Update
            </a>
        </div>
        {% empty %}
        <p class="col-span-full text-center text-gray-600 text-2xl font-semibold py-8">
            404 No participants found!!!
        </p>
        {% endfor %}
    </div>
{% endif %}

{% endblock %}
